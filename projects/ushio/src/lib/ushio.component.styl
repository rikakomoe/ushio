@import "./mixins.styl"

.ushio-player.mouse-hover {
  .ushio-player-video-control-mask, .ushio-player-video-control-wrap {
    opacity 1
    visibility visible
  }
}

.ushio-player.mobile {
  .ushio-player-video-mask, .ushio-player-video-mask.no-cursor {
    cursor default
  }
  .ushio-player-video-control-wrap {
    .ushio-player-video-control {
      .video-control-top {
        .video-progress {
          .video-progress-slider {
            .slider-track {
              height 4px
              .slider-track-thumb {
                .thumb-dot {
                  opacity 1
                  transform scale(1)
                }
              }
            }
          }
        }
      }
    }
  }
}

.ushio-player {
  position relative
  display flex
  height 100%
  z-index 66
  overflow hidden
  user-select none
  touch-action none

  .hide {
    display none !important;
  }

  .ushio-theme {
    background #00a1d6
  }

  .thumb-dot {
    transform translateZ(0)
    width 12px
    height 12px
    border-radius 50%
    display flex
    vertical-align middle
    align-items center
  }

  .ushio-player-video-mask {
    position absolute
    width 100%
    height 100%
    cursor pointer
    z-index 45

    .video-state-buff-wrap {
      &.video-state-pending {
        visibility visible
      }
      visibility hidden
      position absolute
      left 50%
      top 50%
      transform translate(-50%, -50%)
      display flex
      justify-content center
      align-items center
      background rgba(21,21,21,.8)
      width 48px
      height 48px
      border-radius 5px
    }
  }

  .ushio-player-video-mask.no-cursor {
    cursor none
  }

  .ushio-player-custom-mask {
    position absolute
    width 100%
    height 100%
    z-index 40
    top 0
  }

  .ushio-player-video {
    position relative
    display flex
    justify-content center
    z-index 10
    background #000
    width 100%
    height 100%

    video {
      width 100%
      max-height 100%
    }
  }

  .ushio-player-video-control-mask {
    pointer-events none
    width 100%
    height 100px
    position absolute
    bottom 0
    left 0
    background url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==") repeat-x bottom
    -webkit-transition all .2s ease-in-out
    transition all .2s ease-in-out
    z-index 50
    opacity 0
    visibility hidden
  }

  .ushio-player-video-control-wrap {
    z-index 70
    padding 0 12px
    position absolute
    bottom 0
    left 0
    width 100%
    box-sizing border-box
    opacity 0
    visibility hidden
    -webkit-transition all .2s ease-in-out
    transition all .2s ease-in-out

    .ushio-player-video-control {
      display flex
      position relative
      z-index 71
      height 36px
      line-height 36px
      zoom 1

      .video-control-top {
        width 100%
        position absolute
        bottom 32px

        .video-progress {
          .video-progress-slider {
            height 14px
            cursor pointer
            display flex
            vertical-align middle
            align-items center
            justify-content center

            .slider-track {
              height 2px
              position relative
              width 100%
              display flex
              align-items center

              .slider-track-bar-wrap {
                background hsla(0, 0%, 100%, .2)
                position absolute
                top 0
                bottom 0
                left 0
                right 0
                border-radius 1.5px
                overflow hidden

                .bar-buffer {
                  transform scaleX(0)
                  background hsla(0, 0%, 100%, .3)
                  transition transform .2s, -webkit-transform .2s
                  position absolute
                  transform-origin 0 0
                  top 0
                  bottom 0
                  left 0
                  right 0
                }

                .bar-normal {
                  transform scaleX(0)
                  position absolute
                  transform-origin 0 0
                  top 0
                  bottom 0
                  left 0
                  right 0
                }

              }

              .slider-track-thumb {
                cursor pointer
                position absolute
                transform translateX(-50%)
                .thumb-dot {
                  transition all .2s
                  opacity 0
                  transform scale(0)
                }
              }
            }
          }

          .video-progress-detail {

          }

          &:hover, &.thumb-mouse-down {
            .video-progress-slider {
              .slider-track {
                height 4px
                .slider-track-thumb {
                  .thumb-dot {
                    opacity 1
                    transform scale(1)
                  }
                }
              }
            }
          }
        }
      }

      .video-control-bottom {
        width 100%
        display flex
        justify-content space-between
        height 29px
        line-height 22px
        margin 7px 0 0

        .video-control-bottom-left > div {
          float left
        }

        .video-control-bottom-right {
          display flex
          justify-content flex-end
        }

        .ushio-player-btn {
          height 22px
          line-height 22px
          width 36px
          position relative

          .ushio-player-icon {
            height 22px
            width 100%
            transition fill .3s
            vertical-align middle
            display inline-block
            font-size 0
            margin 0
            padding 0
            border 0

            svg {
              width 100%
              height 100%
            }
          }
        }

        .btn-start.video-state-pause {
          .icon-pause {
            display none
          }
          .icon-play {
            display inline-flex
          }
        }

        .btn-start.video-state-play {
          .icon-pause {
            display inline-flex
          }
          .icon-play {
            display none
          }
        }

        .btn-volume.video-state-muted {
          .icon-volume-max {
            display none
          }
          .icon-volume-min {
            display inline-flex
          }
        }

        .btn-volume.video-state-volume {
          .icon-volume-max {
            display inline-flex
          }
          .icon-volume-min {
            display none
          }
        }

        .btn-volume-hover .btn-volume .volume-bar-wrap {
          display block
        }

        .btn-volume .volume-bar-wrap {
          display none
          position absolute
          cursor default
          bottom 41px
          left 2px
          width 32px
          height 106px
          background rgba(21,21,21,.9)
          border-radius 2px

          .volume-num {
            color #e5e9ef
            width 100%
            text-align center
            font-size 12px
            height 26px
            line-height 28px
          }

          .volume-bar {
            width 30px
            margin 6px auto
            height 60px
            display flex
            vertical-align middle
            align-items center
            justify-content center
            cursor pointer

            .volume-bar-track {
              height 100%
              width 2px
              align-items flex-end
              position relative
              display flex

              .volume-bar-track-wrap {
                position absolute
                top 0
                bottom 0
                left 0
                right 0
                border-radius 1.5px
                overflow hidden
                background #e7e7e7

                .bar-normal {
                  position absolute
                  transform-origin 0 100%
                  bottom 0
                  left 0
                  right 0
                  top 0
                }
              }

              .volume-bar-track-thumb {
                bottom 0
                top auto
                position relative
                left -5px
                transform translateY(50%)

                .thumb-dot {
                  transition all .2s
                }
              }
            }
          }
        }

        .btn-settings {
          .btn-settings-panel {
            cursor default
            color #fff
            width 266px
            height 266px
            box-sizing border-box
            background rgba(21,21,21,.9)
            border-radius 2px
            position absolute
            bottom 41px
            right -113px
            padding 12px 20px
            text-align left
            font-size 12px
          }
        }

        .btn-repeat.video-state-repeat {
          .icon-repeat-off {
            display none
          }
          .icon-repeat-on {
            display inline-flex
          }
        }

        .btn-repeat.video-state-norepeat {
          .icon-repeat-off {
            display inline-flex
          }
          .icon-repeat-on {
            display none
          }
        }

        .btn-fullscreen.video-state-fullscreen {
          .icon-fullscreen-off {
            display none
          }
          .icon-fullscreen-on {
            display inline-flex
          }
        }

        .btn-fullscreen.video-state-nofullscreen {
          .icon-fullscreen-off {
            display inline-flex
          }
          .icon-fullscreen-on {
            display none
          }
        }

        .video-time-wrap {
          width 84px
          line-height 22px
          height 22px
          font-size 12px
          position relative
          text-align center
          white-space nowrap
          color hsla(0, 0%, 100%, .9)

          .video-time-divider {
            margin 0 2px
          }
        }

      }

      .ushio-player-btn {
        cursor pointer
        text-align center
        width 36px
        color hsla(0, 0%, 100%, .8)
        fill hsla(0, 0%, 100%, .9)
        font-size 0
      }

    }
  }

}
