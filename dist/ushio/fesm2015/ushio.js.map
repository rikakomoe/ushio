{"version":3,"file":"ushio.js","sources":["ng://ushio/lib/ushio.service.ts","ng://ushio/lib/ushio.component.ts","ng://ushio/lib/ushio.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core'\n\nexport interface ISubtitle {\n  startTime: number\n  endTime: number\n  texts: string[]\n}\n\nclass UshioI18nProvider {\n  private lang = 'en'\n  private readonly i18nSource = {\n    en: {\n      lang: 'English',\n      speed: 'Speed',\n      normal: 'Normal',\n      loop: 'Loop',\n      noLoop: 'No Loop',\n      fullscreen: 'Fullscreen',\n      exitFullscreen: 'Exit fullscreen',\n      statistic: 'Video statistic',\n      language: 'Language',\n      mute: 'Mute'\n    },\n    'zh-Hans': {\n      lang: 'ç®ä½ä¸­æ',\n      speed: 'æ­æ¾éåº¦',\n      normal: 'æ­£å¸¸',\n      loop: 'å¾ªç¯æ­æ¾',\n      noLoop: 'å³é­å¾ªç¯',\n      fullscreen: 'å¨å±æ­æ¾',\n      exitFullscreen: 'éåºå¨å±',\n      statistic: 'è§é¢ç»è®¡ä¿¡æ¯',\n      language: 'è¯­è¨',\n      mute: 'éé³'\n    }\n  }\n  get languages () {\n    return Object.entries(this.i18nSource).map(entry => [entry[0], entry[1].lang])\n  }\n  get language () {\n    return this.lang\n  }\n\n  constructor () {\n    for (const langCode of navigator.languages) {\n      if (this.setLanguage(langCode)) break\n    }\n    this.t = this.t.bind(this)\n  }\n\n  setLanguage (langCode): boolean {\n    if (this.i18nSource[langCode]) {\n      this.lang = langCode\n      return true\n    }\n    return false\n  }\n\n  t (key: string): string {\n    return this.i18nSource[this.lang][key]\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UshioService {\n\n  static version = '4.1.2'\n  static build = 'NG Build'\n\n  // tslint:disable-next-line:max-line-length\n  private readonly timeStampRegex = /^(?:(\\d{2,})(:))?([0-5][0-9])(:)([0-5][0-9])([,.])(\\d{3})( --> )(?:(\\d{2,})(:))?([0-5][0-9])(:)([0-5][0-9])([,.])(\\d{3})/\n  i18n = new UshioI18nProvider()\n  get version () {\n    return UshioService.version\n  }\n  get build () {\n    return UshioService.build\n  }\n\n  constructor () { }\n\n  parseSubtitles (input: string): ISubtitle[] {\n    const trim = (str: string) => str.trim()\n      .replace(/^[^\\S\\n]+/gm, '')\n      .replace(/\\u0000/g, '\\uFFFD')\n      .replace(/\\r\\n/g, '\\n')\n      .replace(/\\r/g, '\\n')\n      .replace(/\\n{3,}/g, '\\n\\n')\n    const origin = trim(input)\n      .split('\\n')\n    const splitSubtitles: ISubtitle[] = []\n    let cachedSubtitle: ISubtitle | null = null\n    let state = 'root'\n    const processLine = (line: string) => {\n      switch (state) {\n        case 'note':\n        /* falls through */\n        case 'title':\n          if (line === '') {\n            state = 'root'\n          }\n          return\n        case 'root':\n          if (line.match(/^WEBVTT/)) {\n            state = 'title'\n            return\n          } else if (line.match(/^NOTE/)) {\n            state = 'note'\n            return\n          } else if (line === '') return [line]\n          else if (!line.match(/-->/)) {\n            state = 'timeline'\n            return\n          }\n        /* falls through */\n        case 'timeline':\n          const match = this.timeStampRegex.exec(line)\n          if (match) {\n            cachedSubtitle = {\n              startTime: 1000 * (60 * (60 * +match[1] + +match[3]) + +match[5]) + +match[7] || 0,\n              endTime: 1000 * (60 * (60 * +match[9] + +match[11]) + +match[13]) + +match[15] || 0,\n              texts: []\n            }\n            state = 'text'\n            return\n          } else {\n            throw new Error(`unexpected timeline token: ${line}`)\n          }\n        case 'text':\n          if (line === '') {\n            state = 'root'\n            if (cachedSubtitle) {\n              splitSubtitles.push(cachedSubtitle)\n              cachedSubtitle = null\n            }\n          } else if (cachedSubtitle) {\n            cachedSubtitle.texts.push(line)\n          }\n      }\n    }\n    origin.forEach(line => processLine(line))\n    if (cachedSubtitle) splitSubtitles.push(cachedSubtitle)\n    return splitSubtitles\n  }\n\n}\n","import {\n  AfterContentInit,\n  AfterViewInit, ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  Directive,\n  ElementRef, EventEmitter,\n  Input, NgZone,\n  OnDestroy,\n  OnInit, Output,\n  QueryList,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core'\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser'\nimport {\n  animationFrameScheduler,\n  fromEvent, merge, NEVER, Observable, of,\n  Subject, Subscription, timer\n} from 'rxjs'\nimport {\n  concatMap, distinctUntilChanged,\n  filter, map, mapTo, repeat, switchMap, takeUntil, tap\n} from 'rxjs/operators'\n\nimport { ISubtitle, UshioService } from './ushio.service'\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'ushio-source'\n})\nexport class UshioSource {\n  @Input() src!: string\n  @Input() type: string\n  @Input() shortname: string\n  @Input() name: string\n  @Input() default: boolean\n}\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'ushio-subtitles'\n})\nexport class UshioSubtitles {\n  @Input() value: string\n  @Input() src: string\n  @Input() type: string\n  @Input() name: string\n  @Input() class: string\n  @Input() srclang: string\n  @Input() default: boolean\n}\n\ninterface Source {\n  shortName: string\n  name: string\n  sources: {\n    src: string;\n    type: string;\n  }[]\n  default?: boolean\n}\n\ninterface Subtitles {\n  name: string\n  class: string\n  parsedSubtitles: ISubtitle[]\n  enabled: boolean\n}\n\n@Component({\n  selector: 'ushio-player',\n  templateUrl: './ushio.component.html',\n  styleUrls: ['./ushio.component.styl'],\n  encapsulation: ViewEncapsulation.ShadowDom\n})\nexport class UshioComponent implements OnInit, AfterContentInit, AfterViewInit, OnDestroy {\n\n  private mInjectedStyles = []\n  get injectedStyles () {\n    return this.mInjectedStyles.map(\n      style => this.sanitization.bypassSecurityTrustHtml(`\n      <style>\n       ${style}\n      </style>\n    `))\n  }\n\n  @Input() set src (src) {\n    this.mSrc = src\n    this.updateSources()\n  }\n  get src () {\n    return this.mSrc\n  }\n  @Input() poster\n  @Input() crossorigin\n  @Input() autoplay\n  @Input() preload = 'metadata'\n  @Input() set lang (lang: string) {\n    this.service.i18n.setLanguage(lang)\n  }\n  @Input() thumbnails\n\n  private mSrc\n  private mSources = []\n  sources: Source[] = []\n  playingSource = 0\n\n  private mSubtitles = []\n  subtitles: Subtitles[] = []\n  get enabledSubtitles () {\n    return this.subtitles.filter(s => s.enabled)\n  }\n  flyingSubtitles: Subtitles[] = []\n\n  private mVolume = 1\n  @Input() set volume (volume) {\n    this.video.nativeElement.volume = volume\n  }\n  get volume100 () {\n    if (this.video.nativeElement.muted) return 0\n    return Math.round(this.mVolume * 100)\n  }\n  @Output() volumeChange = new EventEmitter<number>()\n\n  private mPlaybackRate = 1\n  @Input() set playbackRate (playbackRate) {\n    this.video.nativeElement.playbackRate = playbackRate\n  }\n  @Output() playbackRateChange = new EventEmitter<number>()\n\n  private mVolumeControl = true\n  @Input() set volumeControl (volumeControl) {\n    this.mVolumeControl = volumeControl\n    this.setAllControlPanelsPosition()\n  }\n  get volumeControl () {\n    return this.mVolumeControl\n  }\n  private mSourceControl = true\n  @Input() set sourceControl (sourceControl) {\n    this.mSourceControl = sourceControl\n    this.setAllControlPanelsPosition()\n  }\n  get sourceControl () {\n    return this.mSourceControl\n  }\n  private mSubtitlesControl = true\n  @Input() set subtitlesControl (subtitlesControl) {\n    this.mSubtitlesControl = subtitlesControl\n    this.setAllControlPanelsPosition()\n  }\n  get subtitlesControl () {\n    return this.mSubtitlesControl\n  }\n  private mSettingsControl = true\n  @Input() set settingsControl (settingsControl) {\n    this.mSettingsControl = settingsControl\n    this.setAllControlPanelsPosition()\n  }\n  get settingsControl () {\n    return this.mSettingsControl\n  }\n  private mLoopControl = true\n  @Input() set loopControl (loopControl) {\n    this.mLoopControl = loopControl\n    this.setAllControlPanelsPosition()\n  }\n  get loopControl () {\n    return this.mLoopControl\n  }\n  private mFullscreenControl = true\n  @Input() set fullscreenControl (fullscreenControl) {\n    this.mFullscreenControl = fullscreenControl\n    this.setAllControlPanelsPosition()\n  }\n  get fullscreenControl () {\n    return this.mFullscreenControl\n  }\n\n  @ViewChild('video', { static: true }) video\n  @ViewChild('slider', { static: true }) slider\n  @ViewChild('volumeBar', { static: true }) volumeBar\n  @ViewChild('volumePanel', { static: true }) volumePanel\n  @ViewChild('volumeBtn', { static: true }) volumeBtn\n  @ViewChild('settingsPanel', { static: true }) settingsPanel\n  @ViewChild('settingsBtn', { static: true }) settingsBtn\n  @ViewChild('speedBar', { static: true }) speedBar\n  @ViewChild('sourcePanel', { static: true }) sourcePanel\n  @ViewChild('sourceBtn', { static: true }) sourceBtn\n  @ViewChild('subtitlesPanel', { static: true }) subtitlesPanel\n  @ViewChild('subtitlesBtn', { static: true }) subtitlesBtn\n  @ViewChild('loopBtn', { static: true }) loopBtn\n  @ViewChild('loopPanel', { static: true }) loopPanel\n  @ViewChild('fullScreenBtn', { static: true }) fullScreenBtn\n  @ViewChild('fullScreenPanel', { static: true }) fullScreenPanel\n  @ViewChild('contextMenu', { static: true }) contextMenu\n  @ViewChild('langContextMenuOption', { static: true }) langContextMenuOption\n\n  @ContentChildren(UshioSource) sourceContentChildren!: QueryList<UshioSource>\n  @ContentChildren(UshioSubtitles) subtitlesContentChildren!: QueryList<UshioSubtitles>\n  private subtitlesSlotUpdate$ = new Subject<HTMLElement[]>()\n  private sourcesSlotUpdate$ = new Subject<HTMLElement[]>()\n  private subtitlesSlotChange$ = this.subtitlesSlotUpdate$.asObservable().pipe(distinctUntilChanged())\n  private sourcesSlotChange$ = this.sourcesSlotUpdate$.asObservable().pipe(distinctUntilChanged())\n  private mobileShowControlStateChange$ = new Subject<{ showControl: boolean, delaySwitch: boolean }>()\n  private showControlProbablyChanged$ = new Subject()\n  private showControlChange$ = this.showControlProbablyChanged$.asObservable().pipe(\n    map(() => this.showControl),\n    distinctUntilChanged()\n  )\n\n  interactMode: 'desktop' | 'mobile' = 'desktop'\n  private focus = false\n  private mShowControl = false\n  private mNoCursor = false\n  private thumbMouseDown = false\n  private controlMouseDown = false\n  controlHoveredClass = ''\n  private showContextMenu = false\n  private showStatisticInfoPanel = false\n  private showVolumeHint = false\n  private showProgressDetail = false\n  get isFullScreen (): boolean {\n    return document.fullscreenElement !== null\n  }\n  get mouseDown (): boolean {\n    return this.thumbMouseDown || this.controlMouseDown\n  }\n  get showControl () {\n    return !!(this.mShowControl || this.controlHoveredClass || this.mouseDown)\n  }\n  get noCursor () {\n    return !this.showControl && this.mNoCursor\n  }\n  @Output() showControlChange = new EventEmitter<boolean>()\n  get thumbMouseDownClass (): string {\n    return this.thumbMouseDown ? ' thumb-mouse-down' : ''\n  }\n  get pausedClass (): string {\n    return this.mPaused ? ' video-state-pause' : ' video-state-play'\n  }\n  get waitingClass (): string {\n    return this.waiting && !this.mPaused ? ' video-state-waiting' : ''\n  }\n  get mutedClass (): string {\n    return (this.video.nativeElement.muted || this.video.nativeElement.volume === 0)\n      ? ' video-state-muted' : ' video-state-volume'\n  }\n  get loopClass (): string {\n    return this.video.nativeElement.loop ? ' video-state-loop' : ' video-state-noloop'\n  }\n  get subtitleEnabledClass (): string {\n    return this.enabledSubtitles.length > 0 ? ' video-state-subtitles' : ' video-state-nosubtitles'\n  }\n  get fullscreenClass (): string {\n    return this.isFullScreen ? ' video-state-fullscreen' : ' video-state-nofullscreen'\n  }\n  get contextMenuClass (): string {\n    return this.contextMenuState + (this.showContextMenu ? ' active' : '')\n  }\n  get statisticInfoPanelClass (): string {\n    return this.showStatisticInfoPanel ? ' active' : ''\n  }\n  get volumeHintClass (): string {\n    return this.showVolumeHint ? ' active' : ''\n  }\n  get progressDetailClass (): string {\n    return this.showProgressDetail ? ' active' : ''\n  }\n\n  private mPaused = true\n  @Input() set paused (paused) {\n    if (paused) this.video.nativeElement.pause()\n    else this.video.nativeElement.play()\n  }\n  @Output() pausedChange = new EventEmitter<boolean>()\n  private mCurrentTime = 0\n  @Input() set currentTime (currentTime) {\n    this.video.nativeElement.currentTime = currentTime\n  }\n  @Output() currentTimeChange = new EventEmitter<number>()\n  private duration = 0\n  @Output() durationChange = new EventEmitter<number>()\n  private bufferedTime = 0\n  private waiting = false\n  @Output() waitingChange = new EventEmitter<boolean>()\n  @Input() set loop (loop) {\n    this.video.nativeElement.loop = loop\n  }\n  @Output() loopChange = new EventEmitter<boolean>()\n  @Input() set muted (muted) {\n    this.video.nativeElement.muted = muted\n  }\n  @Output() mutedChange = new EventEmitter<boolean>()\n\n  fps = '0.00'\n  private fpsStart = 0\n  private fpsIndex = 0\n\n  get currentTimeStr (): string {\n    return UshioComponent.formatDuration(this.mCurrentTime)\n  }\n  get durationStr (): string {\n    return UshioComponent.formatDuration(this.duration)\n  }\n  get bufferedProgress (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: scaleX(${this.bufferedTime / this.duration})`\n    )\n  }\n  get playedProgress (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: scaleX(${this.mCurrentTime / this.duration})`\n    )\n  }\n  get thumbPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `left: ${this.mCurrentTime / this.duration * 100}%`\n    )\n  }\n  get volumeRate (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: scaleY(${this.volume100 / 100})`\n    )\n  }\n  get volumeThumbPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `bottom: ${this.volume100}%`\n    )\n  }\n  get speedThumbPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `left: ${UshioComponent.mapSpeedToProgress(this.mPlaybackRate)}%`\n    )\n  }\n  private panelTranslations = {\n    settings: 0,\n    source: 0,\n    subtitles: 0,\n    loop: 0,\n    fullscreen: 0\n  }\n  get settingsPanelPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: translateX(calc(${-this.panelTranslations.settings}px - 50%))`\n    )\n  }\n  get sourcePanelPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: translateX(calc(${-this.panelTranslations.source}px - 50%))`\n    )\n  }\n  get subtitlesPanelPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: translateX(calc(${-this.panelTranslations.subtitles}px - 50%))`\n    )\n  }\n  get loopPanelPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: translateX(calc(${-this.panelTranslations.loop}px - 50%))`\n    )\n  }\n  get fullScreenPanelPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(\n      `transform: translateX(calc(${-this.panelTranslations.fullscreen}px - 50%))`\n    )\n  }\n  private mContextMenuPosition = ''\n  get contextMenuPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(this.mContextMenuPosition)\n  }\n  private mProgressDetailPosition = ''\n  private mProgressDetailContainerPosition = ''\n  private mProgressDetailTimePosition = ''\n  private mProgressDetailPositionRate = 0\n  get progressDetailPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(this.mProgressDetailPosition)\n  }\n  get progressDetailContainerPosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(this.mProgressDetailContainerPosition)\n  }\n  get progressDetailTimePosition (): SafeStyle {\n    return this.sanitization.bypassSecurityTrustStyle(this.mProgressDetailTimePosition)\n  }\n  get progressDetailImgStyle (): SafeStyle {\n    const height = this.video.nativeElement.videoHeight * 160 / this.video.nativeElement.videoWidth\n    return this.sanitization.bypassSecurityTrustStyle(\n      `height: ${height}px;\n       line-height: ${height}px;\n       background-image: url(\"${this.thumbnails}\");\n       background-position: -${(Math.ceil(this.mProgressDetailPositionRate * 100) - 1) * 160}px 0;`\n    )\n  }\n  get progressDetailTime (): string {\n    return UshioComponent.formatDuration(this.mProgressDetailPositionRate * this.duration)\n  }\n\n  languages = this.service.i18n.languages\n  contextMenuState = 'root'\n  get version () {\n    return this.service.version\n  }\n  get detailedVersion () {\n    return `v${this.service.version} (${this.service.build})`\n  }\n  get videoResolution () {\n    return `${this.video.nativeElement.videoWidth} x ${this.video.nativeElement.videoHeight}`\n  }\n  get videoDuration () {\n    return this.video.nativeElement.duration.toFixed(6)\n  }\n  get videoCurrentTime () {\n    return this.video.nativeElement.currentTime.toFixed(6)\n  }\n\n  private timeUpdate: Subscription\n  private controlHoveredChange: Subscription\n  private animationFrame: Subscription\n  private subscriptions: Subscription[] = []\n  private mouseSubscriptions: Subscription[] = []\n  private keySubscriptions: Subscription[] = []\n  private setAllControlPanelsPositionTimeout: number\n  private mouseMove$ = fromEvent(document, 'mousemove')\n  private mouseUp$ = fromEvent(document, 'mouseup')\n  private touchMove$ = fromEvent(document, 'touchmove')\n  private touchStart$ = fromEvent(document, 'touchstart')\n  private touchEnd$ = merge(\n    fromEvent(document, 'touchend'),\n    fromEvent(document, 'touchcancel')\n  )\n  private mouseTouchUp$ = merge(this.mouseUp$, this.touchEnd$)\n\n  t = this.service.i18n.t\n\n  static mapSpeedToProgress (speed) {\n    if (speed < .5) return 0\n    else if (speed < 1.5) return (speed - .5) * 80\n    else if (speed < 2.0) return 80 + (speed - 1.5) * 40\n    else return 100\n  }\n  static mapProgressToSpeed (progress) {\n    if (progress < .1) return .5\n    else if (progress < .9) return .75 + .25 * Math.floor((progress - 0.1) * 5)\n    else return 2\n  }\n\n  static formatDuration (duration: number) {\n    const h = Math.floor(duration / 3600)\n    const m = Math.floor(duration % 3600 / 60)\n    const s = Math.floor(duration % 60)\n    let str = ''\n    if (h && h < 10) { str += `0${h}:` } else if (h) { str += `${h}:` }\n    if (m < 10) { str += `0${m}:` } else { str += `${m}:` }\n    if (s < 10) { str += `0${s}` } else { str += `${s}` }\n    return str\n  }\n\n  constructor (\n    private element: ElementRef,\n    private zone: NgZone,\n    private changeDetectorRef: ChangeDetectorRef,\n    private sanitization: DomSanitizer,\n    private service: UshioService\n  ) {\n    this.showLangMenu = this.showLangMenu.bind(this)\n    this.onComponentClicked = this.onComponentClicked.bind(this)\n    this.onDocumentClicked = this.onDocumentClicked.bind(this)\n  }\n\n  ngOnInit () {\n    this.mPaused = this.video.nativeElement.paused\n    this.mVolume = this.video.nativeElement.volume\n    this.mPlaybackRate = this.video.nativeElement.playbackRate\n  }\n\n  ngAfterContentInit () {\n    const mapPropsToObject = (props: string[], fn) => (sourceObj: any) => (\n      props.reduce((agg, cur) => ({ ...agg, [cur]: fn(sourceObj, cur) }), {})\n    )\n    const onContentChildrenOrSlotChanged$ = (\n      attr, contentChildren:\n      QueryList<any>,\n      slotChange$: Observable<HTMLElement[]>\n    ) => {\n      const contentChildrenMap = mapPropsToObject(attr, (obj, cur) => (obj[cur]))\n      const slotMap = mapPropsToObject(attr, (obj, cur) => (obj.getAttribute(cur)))\n      return merge(\n        of(contentChildren.toArray().map(contentChildrenMap)),\n        contentChildren.changes.pipe(\n          map((contents: QueryList<any>) => (contents.toArray().map(contentChildrenMap)))\n        ),\n        slotChange$.pipe(\n          map((contents: HTMLElement[]) => (\n            contents.map(slotMap)\n          ))\n        )\n      )\n    }\n    const subtitlesAttr = ['value', 'type', 'src', 'name', 'class', 'default', 'srclang']\n    const subtitlesChange$ = onContentChildrenOrSlotChanged$(\n      subtitlesAttr, this.subtitlesContentChildren, this.subtitlesSlotChange$)\n    const sourcesAttr = ['src', 'type', 'name', 'shortname', 'default']\n    const sourcesChange$ = onContentChildrenOrSlotChanged$(\n      sourcesAttr, this.sourceContentChildren, this.sourcesSlotChange$)\n    this.zone.runOutsideAngular(() => {\n      this.subscriptions.push(subtitlesChange$.subscribe(async (subtitles) => {\n        this.mSubtitles = subtitles\n        await this.updateSubtitles()\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.subscriptions.push(sourcesChange$.subscribe((sources) => {\n        this.mSources = sources\n        this.updateSources()\n        this.changeDetectorRef.detectChanges()\n      }))\n    })\n  }\n\n  onUnfocused () {\n    this.keySubscriptions.forEach(sub => sub.unsubscribe())\n    this.keySubscriptions = []\n  }\n\n  onFocused () {\n    const onKeyDown$ = code => fromEvent(document, 'keydown').pipe(\n      filter((e: KeyboardEvent) => this.focus && e.code === code),\n      tap(e => {\n        e.preventDefault()\n        e.stopPropagation()\n      })\n    )\n    this.zone.runOutsideAngular(() => {\n      this.keySubscriptions.push(onKeyDown$('Space').subscribe(e => {\n        this.togglePlay()\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.keySubscriptions.push(onKeyDown$('ArrowRight').subscribe(() => {\n        this.mCurrentTime = this.mCurrentTime + 5 < this.duration ? this.mCurrentTime + 5 : this.duration\n        this.video.nativeElement.currentTime = this.mCurrentTime\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.keySubscriptions.push(onKeyDown$('ArrowLeft').subscribe(() => {\n        this.mCurrentTime = this.mCurrentTime - 5 > 0 ? this.mCurrentTime - 5 : 0\n        this.video.nativeElement.currentTime = this.mCurrentTime\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.keySubscriptions.push(onKeyDown$('ArrowUp').subscribe(() => {\n        this.mVolume = this.mVolume + 0.1 < 0.999996 ? this.mVolume + 0.1 : 1\n        this.video.nativeElement.volume = this.mVolume\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.keySubscriptions.push(onKeyDown$('ArrowDown').subscribe(() => {\n        this.mVolume = this.mVolume - 0.1 > 0.000004 ? this.mVolume - 0.1 : 0\n        this.video.nativeElement.volume = this.mVolume\n        this.changeDetectorRef.detectChanges()\n      }))\n    })\n    const showVolumeHint$ = merge(onKeyDown$('ArrowUp'), onKeyDown$('ArrowDown'))\n      .pipe(\n        switchMap(\n          () => merge(of(true), timer(1000).pipe(mapTo(false)))\n        ),\n        distinctUntilChanged()\n      )\n    this.zone.runOutsideAngular(() => {\n      this.keySubscriptions.push(showVolumeHint$.subscribe(e => {\n        this.showVolumeHint = e\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.setAllControlPanelsPosition()\n    })\n  }\n\n  onControlDismiss () {\n    this.mouseSubscriptions.forEach(sub => sub.unsubscribe())\n    this.mouseSubscriptions = []\n    if (this.controlHoveredChange) {\n      this.controlHoveredChange.unsubscribe()\n      this.controlHoveredChange = null\n    }\n  }\n\n  onControlShown () {\n    const ifMouseInArea = (e: MouseEvent, btnElement, popUpElement) => {\n      const rect1 = popUpElement.getBoundingClientRect()\n      const rect2 = btnElement.getBoundingClientRect()\n      return (e.clientX > rect1.left &&\n        e.clientX < rect1.right &&\n        e.clientY > rect1.top &&\n        e.clientY < rect1.bottom) || (e.clientX > rect2.left &&\n        e.clientX < rect2.right &&\n        e.clientY > rect2.top &&\n        e.clientY < rect2.bottom)\n    }\n    const onControlBtnHoverStateChanged$ = (btns) => {\n      return this.mouseMove$.pipe(\n        switchMap((e: MouseEvent) => {\n          for (const btn of btns) {\n            if (ifMouseInArea(e, btn.btnElement, btn.popUpElement)) {\n              return of(` btn-${btn.btnName}-hover`)\n            }\n          }\n          return timer(150).pipe(\n            mapTo('')\n          )\n        }),\n        distinctUntilChanged()\n      )\n    }\n    const mouseHoverProgressState$ = this.mouseMove$.pipe(\n      filter(() => (this.interactMode === 'desktop')),\n      map((e: MouseEvent) => {\n        const rect = this.slider.nativeElement.getBoundingClientRect()\n        const yCenter = (rect.top + rect.bottom) / 2\n        if (Math.abs(e.clientY - yCenter) < 8 && e.clientX > rect.left && e.clientX < rect.right) {\n          const left = e.clientX - rect.left\n          const containerLeft = left < 80 ? 90 - left : left > rect.width - 80 ? rect.width - left - 70 : 10\n          const timeLeft = left < 20 ? 30 - left : left > rect.width - 20 ? rect.width - left - 10 : 10\n          return { left, containerLeft, timeLeft, width: rect.width }\n        } else {\n          return false\n        }\n      }),\n      distinctUntilChanged((a, b) => {\n        if (typeof a !== typeof b) {\n          return false\n        } else if (typeof a === 'object' && typeof b === 'object') {\n          return a.left === b.left && a.containerLeft === b.containerLeft\n            && a.timeLeft === b.timeLeft && a.width === b.width\n        } else {\n          return a === b\n        }\n      })\n    )\n    this.zone.runOutsideAngular(() => {\n      this.mouseSubscriptions.push(mouseHoverProgressState$.subscribe(state => {\n        if (typeof state === 'boolean') {\n          this.showProgressDetail = state\n        } else {\n          this.showProgressDetail = true\n          this.mProgressDetailPosition = `left: ${state.left}px`\n          this.mProgressDetailContainerPosition = `left: ${state.containerLeft}px`\n          this.mProgressDetailTimePosition = `left: ${state.timeLeft}px`\n          this.mProgressDetailPositionRate = state.left / state.width\n        }\n        this.changeDetectorRef.detectChanges()\n      }))\n    })\n    const mapToRate = (element, progress, total) => map(\n      (moveEvent: MouseEvent | TouchEvent) => {\n        const eventCoordinate = moveEvent instanceof TouchEvent\n          ? moveEvent.changedTouches[0]\n          : moveEvent\n        const rect = element.getBoundingClientRect()\n        let p = progress(eventCoordinate, rect)\n        const t = total(rect)\n        if (p < 0) p = 0\n        else if (p > t) p = t\n        return p / t\n      }\n    )\n    const onMouseTouchDown$ = (element, progress, total) => {\n      return merge(\n        fromEvent(element, 'mousedown'),\n        fromEvent(element, 'touchstart')\n      ).pipe(\n        mapToRate(element, progress, total)\n      )\n    }\n    const onMouseTouchDrag$ = (element, progress, total) => {\n      return merge(\n        fromEvent(element, 'mousedown').pipe(\n          mapToRate(element, progress, total),\n          concatMap(() => {\n            return this.mouseMove$.pipe(\n              takeUntil(this.mouseUp$),\n              mapToRate(element, progress, total)\n            )\n          })\n        ),\n        fromEvent(element, 'touchstart').pipe(\n          mapToRate(element, progress, total),\n          concatMap(() => {\n            return this.touchMove$.pipe(\n              takeUntil(this.touchEnd$),\n              mapToRate(element, progress, total)\n            )\n          })\n        )\n      )\n    }\n    const thumbMouseTouchDown$ = onMouseTouchDown$(\n      this.slider.nativeElement,\n      (moveEvent, rect) => (moveEvent.clientX - rect.left),\n      (rect) => (rect.width)\n    )\n    const thumbTouchDrag$ = onMouseTouchDrag$(\n      this.slider.nativeElement,\n      (moveEvent, rect) => (moveEvent.clientX - rect.left),\n      (rect) => (rect.width)\n    )\n    this.zone.runOutsideAngular(() => {\n      this.mouseSubscriptions.push(thumbMouseTouchDown$.subscribe(e => {\n        this.thumbMouseDown = true\n        this.timeUpdate.unsubscribe()\n        this.mCurrentTime = e * this.duration\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.mouseSubscriptions.push(thumbTouchDrag$.subscribe(e => {\n        this.mCurrentTime = e * this.duration\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.mouseSubscriptions.push(this.mouseTouchUp$.subscribe(() => {\n        if (this.thumbMouseDown) {\n          this.video.nativeElement.currentTime = this.mCurrentTime\n          this.subscribeTimeUpdate()\n          this.thumbMouseDown = false\n          this.showControlProbablyChanged$.next(0)\n          this.changeDetectorRef.detectChanges()\n        }\n      }))\n    })\n    const controlHoverStateChange$ = onControlBtnHoverStateChanged$([{\n      btnElement: this.volumeBtn.nativeElement,\n      popUpElement: this.volumePanel.nativeElement,\n      btnName: 'volume'\n    }, {\n      btnElement: this.settingsBtn.nativeElement,\n      popUpElement: this.settingsPanel.nativeElement,\n      btnName: 'settings'\n    }, {\n      btnElement: this.sourceBtn.nativeElement,\n      popUpElement: this.sourcePanel.nativeElement,\n      btnName: 'source'\n    }, {\n      btnElement: this.subtitlesBtn.nativeElement,\n      popUpElement: this.subtitlesPanel.nativeElement,\n      btnName: 'subtitles'\n    }])\n    const subscribeControlHoveredChange = () => {\n      this.zone.runOutsideAngular(() => {\n        this.controlHoveredChange = controlHoverStateChange$.subscribe(e => {\n          this.controlHoveredClass = e\n          this.showControlProbablyChanged$.next(0)\n          this.setAllControlPanelsPosition()\n          this.changeDetectorRef.detectChanges()\n        })\n      })\n    }\n    subscribeControlHoveredChange()\n    const volumeMouseTouchDown$ = onMouseTouchDown$(\n      this.volumeBar.nativeElement,\n      (moveEvent, rect) => (rect.bottom - moveEvent.clientY),\n      (rect) => (rect.height)\n    )\n    const volumeTouchDrag$ = onMouseTouchDrag$(\n      this.volumeBar.nativeElement,\n      (moveEvent, rect) => (rect.bottom - moveEvent.clientY),\n      (rect) => (rect.height)\n    )\n    this.zone.runOutsideAngular(() => {\n      this.mouseSubscriptions.push(volumeMouseTouchDown$.subscribe(e => {\n        if (!this.controlMouseDown) {\n          this.controlMouseDown = true\n          this.controlHoveredChange.unsubscribe()\n        }\n        this.video.nativeElement.muted = false\n        this.video.nativeElement.volume = e\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.mouseSubscriptions.push(volumeTouchDrag$.subscribe(e => {\n        this.video.nativeElement.volume = e\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.mouseSubscriptions.push(this.mouseTouchUp$.subscribe(() => {\n        if (this.controlMouseDown) {\n          subscribeControlHoveredChange()\n          this.controlMouseDown = false\n          this.showControlProbablyChanged$.next(0)\n          this.changeDetectorRef.detectChanges()\n        }\n      }))\n    })\n    const speedMouseTouchDown$ = onMouseTouchDown$(\n      this.speedBar.nativeElement,\n      (moveEvent, rect) => (moveEvent.clientX - rect.left),\n      (rect) => (rect.width)\n    )\n    const speedTouchDrag$ = onMouseTouchDrag$(\n      this.speedBar.nativeElement,\n      (moveEvent, rect) => (moveEvent.clientX - rect.left),\n      (rect) => (rect.width)\n    )\n    this.zone.runOutsideAngular(() => {\n      this.mouseSubscriptions.push(speedMouseTouchDown$.subscribe(e => {\n        if (!this.controlMouseDown) {\n          this.controlMouseDown = true\n          this.controlHoveredChange.unsubscribe()\n        }\n        this.video.nativeElement.playbackRate = UshioComponent.mapProgressToSpeed(e)\n        this.changeDetectorRef.detectChanges()\n      }))\n      this.mouseSubscriptions.push(speedTouchDrag$.subscribe(e => {\n        this.video.nativeElement.playbackRate = UshioComponent.mapProgressToSpeed(e)\n        this.changeDetectorRef.detectChanges()\n      }))\n    })\n  }\n\n  private subscribeTimeUpdate () {\n    this.zone.runOutsideAngular(() => {\n      this.timeUpdate = fromEvent(this.video.nativeElement, 'timeupdate')\n        .subscribe(() => {\n          this.mCurrentTime = this.video.nativeElement.currentTime\n          this.currentTimeChange.emit(this.mCurrentTime)\n          this.updateFlyingSubtitles(this.mCurrentTime)\n          this.changeDetectorRef.detectChanges()\n        })\n    })\n  }\n\n  ngAfterViewInit () {\n    this.touchStart$.subscribe(() => {\n      this.interactMode = 'mobile'\n    })\n    const desktopShowControlStateChange$ = this.mouseMove$.pipe(\n      filter(() => (this.interactMode === 'desktop')),\n      map((e: MouseEvent) => {\n        const rect = this.video.nativeElement.getBoundingClientRect()\n        return {\n          showControl: e.clientX > rect.left &&\n            e.clientX < rect.right &&\n            e.clientY > rect.top &&\n            e.clientY < rect.bottom,\n          delaySwitch: e.clientY < rect.bottom - 46\n        }\n      })\n    )\n    const showControlStateChange$ = merge(\n      desktopShowControlStateChange$,\n      this.mobileShowControlStateChange$\n    ).pipe(\n      switchMap(e => {\n        return e.showControl\n          ? merge(\n            of({\n              showControl: true,\n              noCursor: false\n            }),\n            e.delaySwitch ? timer(\n              this.interactMode === 'desktop' ? 750 : 5000\n            ).pipe(\n              mapTo({\n                showControl: false,\n                noCursor: true\n              })\n            ) : NEVER\n          )\n          : of({\n            showControl: false,\n            noCursor: false\n          })\n      }),\n      distinctUntilChanged((a, b) => (\n        a.showControl === b.showControl && a.noCursor === b.noCursor\n      ))\n    )\n    this.zone.runOutsideAngular(() => {\n      this.subscriptions.push(showControlStateChange$.subscribe(state => {\n        this.mShowControl = state.showControl\n        this.showControlProbablyChanged$.next(0)\n        this.mNoCursor = state.noCursor\n        this.changeDetectorRef.detectChanges()\n      }))\n    })\n    if (this.mPaused) this.video.nativeElement.pause()\n    else this.video.nativeElement.play()\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'pause')\n      .subscribe(() => {\n        this.mPaused = true\n        this.pausedChange.emit(true)\n      }))\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'play')\n      .subscribe(() => {\n        this.mPaused = false\n        this.pausedChange.emit(false)\n      }))\n    this.subscribeTimeUpdate()\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'waiting')\n      .subscribe(() => {\n        this.waiting = true\n        this.waitingChange.emit(this.waiting)\n      }))\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'playing')\n      .subscribe(() => {\n        this.waiting = false\n        this.waitingChange.emit(this.waiting)\n      }))\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'progress')\n      .subscribe(() => {\n        this.bufferedTime = ((timeRanges, currentTime) => {\n          const length = timeRanges.length\n          for (let i = 0; i < length; i++) {\n            if (timeRanges.end(i) <= currentTime) {\n              continue\n            }\n            if (timeRanges.start(i) <= currentTime) {\n              return timeRanges.end(i)\n            }\n            return currentTime\n          }\n          return currentTime\n        })(this.video.nativeElement.buffered, this.video.nativeElement.currentTime)\n      }))\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'loadedmetadata')\n      .subscribe(() => {\n        this.duration = this.video.nativeElement.duration\n        this.durationChange.emit(this.duration)\n      }))\n    this.video.nativeElement.volume = this.mVolume\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'volumechange')\n      .subscribe(() => {\n        this.mVolume = this.video.nativeElement.volume\n        this.volumeChange.emit(this.mVolume)\n      }))\n    this.video.nativeElement.playbackRate = this.mPlaybackRate\n    this.subscriptions.push(fromEvent(this.video.nativeElement, 'ratechange')\n      .subscribe(() => {\n        this.mPlaybackRate = this.video.nativeElement.playbackRate\n        this.playbackRateChange.emit(this.mPlaybackRate)\n      }))\n    this.subscriptions.push(fromEvent(this.element.nativeElement, 'contextmenu')\n      .subscribe((e: MouseEvent) => {\n        e.preventDefault()\n        const outer = this.element.nativeElement.getBoundingClientRect()\n        const panel = this.contextMenu.nativeElement.getBoundingClientRect()\n        if (e.clientX + panel.width + 20 > outer.right) {\n          if (e.clientY + panel.height + 20 > outer.bottom) {\n            this.mContextMenuPosition = `right: ${outer.right - e.clientX}px; bottom: ${outer.bottom - e.clientY}px`\n          } else {\n            this.mContextMenuPosition = `right: ${outer.right - e.clientX}px; top: ${e.clientY - outer.top}px`\n          }\n        } else {\n          if (e.clientY + panel.height + 20 > outer.bottom) {\n            this.mContextMenuPosition = `left: ${e.clientX - outer.left}px; bottom: ${outer.bottom - e.clientY}px`\n          } else {\n            this.mContextMenuPosition = `left: ${e.clientX - outer.left}px; top: ${e.clientY - outer.top}px`\n          }\n        }\n        this.contextMenuState = 'root'\n        this.showContextMenu = true\n      }))\n    this.zone.runOutsideAngular(() => {\n      this.langContextMenuOption.nativeElement.addEventListener('click', this.showLangMenu, true)\n      this.element.nativeElement.addEventListener('click', this.onComponentClicked, true)\n      document.addEventListener('click', this.onDocumentClicked, true)\n    })\n    this.zone.runOutsideAngular(() => {\n      this.showControlChange$.subscribe(showControl => {\n        if (showControl) this.onControlShown()\n        else this.onControlDismiss()\n        this.showControlChange.emit(showControl)\n      })\n    })\n  }\n\n  // https://github.com/angular/angular/issues/17404\n  ngOnDestroy () {\n    clearTimeout(this.setAllControlPanelsPositionTimeout)\n    this.onUnfocused()\n    this.onControlDismiss()\n    if (this.timeUpdate) {\n      this.timeUpdate.unsubscribe()\n      this.timeUpdate = null\n    }\n    this.subscriptions.forEach(sub => sub.unsubscribe())\n    this.subscriptions = []\n    this.langContextMenuOption.nativeElement.removeEventListener('click', this.showLangMenu, true)\n    this.element.nativeElement.removeEventListener('click', this.onComponentClicked, true)\n    document.removeEventListener('click', this.onDocumentClicked, true)\n  }\n\n  private updateSources () {\n    if (this.mSources.length === 0) {\n      this.sources = [{\n        shortName: 'Default',\n        name: 'Default',\n        default: true,\n        sources: [{ src: this.mSrc, type: undefined }]\n      }]\n    } else {\n      const sm = {}\n      this.mSources.forEach(source => {\n        if (!source.shortname) {\n          source.shortname = 'Untitled'\n        }\n        if (!sm[source.shortname]) {\n          sm[source.shortname] = {\n            shortName: source.shortname,\n            name: source.name || 'Untitled',\n            sources: []\n          }\n        }\n        sm[source.shortname].sources.push(source)\n        if (source.default !== undefined && source.default !== null) {\n          sm[source.shortname].default = true\n        }\n      })\n      this.sources = Object.values(sm)\n    }\n    const indexOfDefault = this.sources.findIndex(s => s.default)\n    this.playingSource = indexOfDefault >= 0 ? indexOfDefault : 0\n    this.video.nativeElement.load()\n  }\n\n  private async updateSubtitles () {\n    const parsedSubtitles = []\n    for (const sub of this.mSubtitles) {\n      let text = ''\n      if (sub.value) text = sub.value\n      else if (sub.src) {\n        const resp = await fetch(sub.src)\n        text = await resp.text()\n      }\n      const parsed = {\n        name: sub.name || 'Untitled',\n        class: sub.class || '',\n        parsedSubtitles: undefined,\n        enabled: sub.default !== undefined && sub.default !== null\n          || sub.srclang === this.service.i18n.language\n      }\n      sub.type = sub.type || ''\n      sub.type = sub.type.toLowerCase()\n      if (sub.type !== 'text/vtt' && sub.type !== 'application/x-subrip') {\n        console.warn('Unknown MIME type of subtitles, trying to infer subtitle format. Supported type: text/vtt, application/x-subrip.')\n      }\n      try {\n        parsed.parsedSubtitles = this.service.parseSubtitles(text)\n      } catch (e) {\n        console.error(e)\n      }\n      parsedSubtitles.push(parsed)\n    }\n    this.subtitles = parsedSubtitles\n    this.updateFlyingSubtitles()\n  }\n\n  private updateFlyingSubtitles (currentTime?) {\n    if (currentTime === undefined) {\n      currentTime = this.video.nativeElement.currentTime\n    }\n    currentTime *= 1000\n    const flyingSubtitles = []\n    this.enabledSubtitles.forEach(subtitles => {\n      if (!subtitles.parsedSubtitles) return\n      const flyingSubtitlesTrack = []\n      subtitles.parsedSubtitles.forEach(subtitle => {\n        if (currentTime > subtitle.startTime && currentTime < subtitle.endTime) {\n          flyingSubtitlesTrack.push({\n            ...subtitle,\n            texts: subtitle.texts.map(text => this.sanitization.bypassSecurityTrustHtml(text))\n          })\n        }\n      })\n      if (flyingSubtitlesTrack.length) {\n        flyingSubtitles.push({\n          name: subtitles.name,\n          class: subtitles.class,\n          parsedSubtitles: flyingSubtitlesTrack\n        })\n      }\n    })\n    this.flyingSubtitles = flyingSubtitles\n  }\n\n  private setAllControlPanelsPosition () {\n    this.zone.runOutsideAngular(() => {\n      this.setAllControlPanelsPositionTimeout = setTimeout(() => {\n        [{\n          btn: this.settingsBtn,\n          panel: this.settingsPanel,\n          name: 'settings'\n        }, {\n          btn: this.sourceBtn,\n          panel: this.sourcePanel,\n          name: 'source'\n        }, {\n          btn: this.subtitlesBtn,\n          panel: this.subtitlesPanel,\n          name: 'subtitles'\n        }, {\n          btn: this.loopBtn,\n          panel: this.loopPanel,\n          name: 'loop'\n        }, {\n          btn: this.fullScreenBtn,\n          panel: this.fullScreenPanel,\n          name: 'fullscreen'\n        }].forEach(item => this.setPanelPosition(item.btn, item.panel, item.name))\n        this.changeDetectorRef.detectChanges()\n      }, 0)\n    })\n  }\n\n  private setPanelPosition (btn, panel, name) {\n    if (!this.element || !panel || !btn) return\n    const outerRect = this.element.nativeElement.getBoundingClientRect()\n    const panelRect = panel.nativeElement.getBoundingClientRect()\n    const btnRect = btn.nativeElement.getBoundingClientRect()\n    if (panelRect.width / 2 - outerRect.right + btnRect.right > 0) {\n      this.panelTranslations[name] = panelRect.width / 2 - outerRect.right + btnRect.right\n    } else {\n      this.panelTranslations[name] = 0\n    }\n  }\n\n  onSlotChange (e) {\n    this.subtitlesSlotUpdate$.next(\n      e.target.assignedNodes().filter(node => node.nodeName === 'USHIO-SUBTITLES')\n    )\n    this.sourcesSlotUpdate$.next(\n      e.target.assignedNodes().filter(node => node.nodeName === 'USHIO-SOURCE')\n    )\n    this.mInjectedStyles = e.target.assignedNodes()\n      .filter(node => node.nodeName === 'STYLE').map(node => node.innerHTML)\n  }\n\n  onVideoMaskClicked () {\n    if (this.interactMode === 'desktop') {\n      this.togglePlay()\n    } else {\n      this.mobileShowControlStateChange$.next({\n        showControl: !this.mShowControl,\n        delaySwitch: true\n      })\n    }\n  }\n\n  onSelectSource (i) {\n    if (i === this.playingSource) return\n    const currentTime = this.mCurrentTime\n    const paused = this.mPaused\n    this.playingSource = i\n    this.video.nativeElement.load()\n    this.video.nativeElement.currentTime = currentTime\n    if (!paused) this.video.nativeElement.play()\n  }\n\n  onCheckSubtitles (i) {\n    this.subtitles[i].enabled = !this.subtitles[i].enabled\n    this.updateFlyingSubtitles()\n    this.changeDetectorRef.detectChanges()\n  }\n\n  togglePlay () {\n    if (this.video.nativeElement.paused) this.video.nativeElement.play()\n    else this.video.nativeElement.pause()\n  }\n\n  toggleMute () {\n    if (this.interactMode === 'desktop') {\n      this.video.nativeElement.muted = !(this.video.nativeElement.muted || this.video.nativeElement.volume === 0)\n      this.mutedChange.emit(this.video.nativeElement.muted)\n    } else if (this.video.nativeElement.muted) {\n      this.video.nativeElement.muted = false\n      this.mutedChange.emit(false)\n    }\n    if (!this.video.nativeElement.muted && this.video.nativeElement.volume === 0) {\n      this.video.nativeElement.volume = Math.random()\n    }\n  }\n\n  toggleLoop () {\n    this.video.nativeElement.loop = !this.video.nativeElement.loop\n    this.loopChange.emit(this.video.nativeElement.loop)\n  }\n\n  toggleFullscreen () {\n    if (!this.isFullScreen) {\n      this.element.nativeElement.requestFullscreen()\n    } else {\n      document.exitFullscreen()\n    }\n  }\n\n  showLangMenu () {\n    this.contextMenuState = 'lang'\n    this.showContextMenu = true\n    this.changeDetectorRef.detectChanges()\n  }\n\n  onComponentClicked () {\n    this.focus = true\n    if (this.keySubscriptions.length === 0) {\n      this.onFocused()\n    }\n  }\n\n  onDocumentClicked () {\n    this.focus = false\n    if (this.showContextMenu) {\n      this.showContextMenu = false\n      this.changeDetectorRef.detectChanges()\n    }\n  }\n\n  setLanguage (code) {\n    this.service.i18n.setLanguage(code)\n  }\n\n  toggleShowStatisticInfoPanel () {\n    this.showStatisticInfoPanel = !this.showStatisticInfoPanel\n    if (this.showStatisticInfoPanel) {\n      this.zone.runOutsideAngular(() => {\n        const animationFrame$ = of(null, animationFrameScheduler).pipe(repeat())\n        this.animationFrame = animationFrame$.subscribe(() => {\n          if (!this.fpsStart) this.fpsStart = +new Date()\n          this.fpsIndex++\n          const fpsCurrent = +new Date()\n          if (fpsCurrent - this.fpsStart > 1000) {\n            this.fps = ((this.fpsIndex / (fpsCurrent - this.fpsStart)) * 1000).toFixed(2)\n            this.fpsStart = +new Date()\n            this.fpsIndex = 0\n            this.changeDetectorRef.detectChanges()\n          }\n        })\n      })\n    } else {\n      this.animationFrame.unsubscribe()\n    }\n  }\n\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\n\nimport { UshioComponent, UshioSource, UshioSubtitles } from './ushio.component'\n\n@NgModule({\n  declarations: [\n    UshioComponent,\n    UshioSource,\n    UshioSubtitles\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    UshioComponent,\n    UshioSource,\n    UshioSubtitles\n  ]\n})\nexport class UshioModule { }\n"],"names":[],"mappings":"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"}