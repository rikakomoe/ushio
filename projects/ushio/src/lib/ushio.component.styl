@import "./mixins.styl"

.ushio-player.mouse-hover {
  .ushio-player-video-control-mask, .ushio-player-video-control-wrap {
    opacity 1
    visibility visible
  }
}

.ushio-player.mobile {
  .ushio-player-video-mask, .ushio-player-video-mask.no-cursor {
    cursor default
  }
  .ushio-player-video-control-wrap {
    .ushio-player-video-control {
      .video-control-top {
        .video-progress {
          .video-progress-slider {
            .slider-track {
              height 4px
              .slider-track-thumb {
                .thumb-dot {
                  opacity 1
                  transform scale(1)
                }
              }
            }
          }
        }
      }
    }
  }
}

.ushio-player {
  svg {
    width 100%
    height 100%
  }
  .ushio-player-btn:hover .btn-title {
    bottom 41px
    opacity 1
    visibility visible
  }
  .ushio-player-btn .btn-title, .ushio-player-btn .btn-title:hover {
    cursor default
    color #fff
    background rgba(21, 21, 21, .9)
    border-radius 2px
    position absolute
    left 50%
    transform translateX(-50%)
    padding 0.75em
    text-align left
    font-size 12px
    line-height 14px
    transition all 0.3s
    white-space nowrap
    bottom 31px
    opacity 0
    visibility hidden
  }
  .control-panel {
    cursor default
    color #fff
    box-sizing border-box
    background rgba(21, 21, 21, .9)
    border-radius 2px
    position absolute
    padding 12px 20px
    text-align left
    font-size 12px
    transition all 0.05s

    ul {
      padding 0
      list-style-type none
      margin 0
      overflow hidden
      text-align left
      border-radius 2px
      li {
        margin 0
        border 0
        padding 0 20px
        height 36px
        line-height 36px
        white-space nowrap
        cursor pointer
        &:hover {
          background hsla(0,0%,100%,.1)
        }
        .checkbox-icon {
          display inline-block
          width 16px
          height 16px
          margin-right 4px
          line-height 16px
          vertical-align middle
        }

        a {
          display block
          width 100%
          height 100%
          text-decoration none
          color inherit
        }
      }
    }
  }
  .panel-box {
    width 100%

    .panel-box-title {
      height 16px
      line-height 16px
      margin-bottom 4px
      color #fff
    }

    .panel-box-content {
      width 100%
    }
  }
}

.ushio-player {
  .ushio-player-subtitle-container {
    position absolute
    width 100%
    z-index 40
    top 10%
    bottom 10%
    display flex
    flex-direction column-reverse
    justify-content flex-start
    .ushio-player-subtitle-wrap {
      z-index 40
      display flex
      flex-direction column
      width 100%

      .ushio-player-subtitle {
        display block
        text-align center
        color #fff
        word-wrap break-word
        font-size 1.25em
        font-weight 500
        text-shadow .5px .5px .5px rgba(0,0,0,.5)
      }
    }
  }
}

.ushio-player {
  position relative
  display flex
  height 100%
  z-index 66
  overflow hidden
  user-select none
  touch-action none

  .hide {
    display none !important;
  }

  .ushio-theme-background {
    background #00a1d6
  }

  .ushio-theme-color {
    color #00a1d6
    svg {
      fill #00a1d6
    }
  }

  .thumb-dot {
    transform translateZ(0)
    width 12px
    height 12px
    border-radius 50%
    display flex
    vertical-align middle
    align-items center
  }

  .ushio-player-video-mask {
    position absolute
    width 100%
    height 100%
    cursor pointer
    z-index 45

    .video-state-buff-wrap {
      &.video-state-waiting {
        visibility visible
      }
      visibility hidden
      position absolute
      left 50%
      top 50%
      transform translate(-50%, -50%)
      display flex
      justify-content center
      align-items center
      background rgba(21,21,21,.8)
      width 48px
      height 48px
      border-radius 5px
    }
  }

  .ushio-player-video-mask.no-cursor {
    cursor none
  }

  .ushio-player-custom-mask {
    position absolute
    width 100%
    height 100%
    z-index 40
    top 0
  }

  .ushio-player-video {
    position relative
    display flex
    justify-content center
    z-index 10
    background #000
    width 100%
    height 100%

    video {
      width 100%
      max-height 100%
    }
  }

  .ushio-player-video-control-mask {
    pointer-events none
    width 100%
    height 100px
    position absolute
    bottom 0
    left 0
    background url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==") repeat-x bottom
    -webkit-transition all .2s ease-in-out
    transition all .2s ease-in-out
    z-index 50
    opacity 0
    visibility hidden
  }

  .ushio-player-video-control-wrap {
    z-index 70
    padding 0 12px
    position absolute
    bottom 0
    left 0
    width 100%
    box-sizing border-box
    opacity 0
    visibility hidden
    -webkit-transition all .2s ease-in-out
    transition all .2s ease-in-out

    .ushio-player-video-control {
      display flex
      position relative
      z-index 71
      height 36px
      line-height 36px
      zoom 1

      .video-control-top {
        width 100%
        position absolute
        bottom 32px

        .video-progress {
          .video-progress-slider {
            height 14px
            cursor pointer
            display flex
            vertical-align middle
            align-items center
            justify-content center

            .slider-track {
              height 2px
              position relative
              width 100%
              display flex
              align-items center

              .slider-track-bar-wrap {
                background hsla(0, 0%, 100%, .2)
                position absolute
                top 0
                bottom 0
                left 0
                right 0
                border-radius 1.5px
                overflow hidden

                .bar-buffer {
                  transform scaleX(0)
                  background hsla(0, 0%, 100%, .3)
                  transition transform .2s, -webkit-transform .2s
                  position absolute
                  transform-origin 0 0
                  top 0
                  bottom 0
                  left 0
                  right 0
                }

                .bar-normal {
                  transform scaleX(0)
                  position absolute
                  transform-origin 0 0
                  top 0
                  bottom 0
                  left 0
                  right 0
                }

              }

              .slider-track-thumb {
                cursor pointer
                position absolute
                transform translateX(-50%)
                .thumb-dot {
                  transition all .2s
                  opacity 0
                  transform scale(0)
                }
              }
            }
          }

          .video-progress-detail {

          }

          &:hover, &.thumb-mouse-down {
            .video-progress-slider {
              .slider-track {
                height 4px
                .slider-track-thumb {
                  .thumb-dot {
                    opacity 1
                    transform scale(1)
                  }
                }
              }
            }
          }
        }
      }

      .video-control-bottom {
        width 100%
        display flex
        justify-content space-between
        height 29px
        line-height 22px
        margin 7px 0 0

        .control-panel {
          bottom 41px
          left 50%
          transform translateX(-50%)
        }

        .video-control-bottom-left > div {
          float left
        }

        .video-control-bottom-right {
          display flex
          justify-content flex-end
        }

        .ushio-player-btn {
          height 22px
          line-height 22px
          width 36px
          position relative

          &:hover {
            fill #fff
          }

          .ushio-player-icon {
            height 22px
            width 100%
            transition fill .3s
            vertical-align middle
            display inline-block
            font-size 0
            margin 0
            padding 0
            border 0
          }
        }

        .btn-start.video-state-pause {
          .icon-pause {
            display none
          }
          .icon-play {
            display inline-flex
          }
        }

        .btn-start.video-state-play {
          .icon-pause {
            display inline-flex
          }
          .icon-play {
            display none
          }
        }

        .btn-source {
          font-size 1em
          padding 0 10.75px
          width auto
          position relative
        }

        .btn-volume.video-state-muted {
          .icon-volume-max {
            display none
          }
          .icon-volume-min {
            display inline-flex
          }
        }

        .btn-volume.video-state-volume {
          .icon-volume-max {
            display inline-flex
          }
          .icon-volume-min {
            display none
          }
        }

        .btn-volume-hover .btn-volume .btn-volume-panel {
          display block
        }

        .btn-volume .btn-volume-panel {
          display none
          position absolute
          cursor default
          bottom 41px
          left 2px
          width 32px
          height 106px
          background rgba(21,21,21,.9)
          border-radius 2px

          .volume-num {
            color #e5e9ef
            width 100%
            text-align center
            font-size 12px
            height 26px
            line-height 28px
          }

          .volume-bar {
            width 30px
            margin 6px auto
            height 60px
            display flex
            vertical-align middle
            align-items center
            justify-content center
            cursor pointer

            .volume-bar-track {
              height 100%
              width 2px
              align-items flex-end
              position relative
              display flex

              .volume-bar-track-wrap {
                position absolute
                top 0
                bottom 0
                left 0
                right 0
                border-radius 1.5px
                overflow hidden
                background #e7e7e7

                .bar-normal {
                  position absolute
                  transform-origin 0 100%
                  bottom 0
                  left 0
                  right 0
                  top 0
                }
              }

              .volume-bar-track-thumb {
                bottom 0
                top auto
                position relative
                left -5px
                transform translateY(50%)
              }
            }
          }
        }

        .btn-source-hover .btn-source .btn-source-panel {
          display block
        }

        .btn-source .btn-source-panel {
          display none
          padding 0
          ul {
            li {
              &.selected {
                cursor default
              }
            }
          }
        }

        .btn-subtitles-hover .btn-subtitles .btn-subtitles-panel {
          display block
        }

        .btn-subtitles .btn-subtitles-panel {
          display none
          padding 0
        }

        .btn-settings-hover .btn-settings .btn-settings-panel {
          display block
        }

        .btn-settings .btn-settings-panel {
          display none
          width 266px

          .speed-bar {
            cursor pointer
          }

          .panel-speed-content.panel-box-content {
            margin 20px 6px 0 6px
            width calc(100% - 12px)
            height 12px
            display flex
            align-items center
            justify-content center
            .speed-track {
              position relative
              width 100%
              height 2px
              display flex
              align-items center
              .speed-track-wrap {
                background #505050
                position absolute
                top 0
                bottom 0
                border-radius 1.5px
                overflow hidden
                width 100%
              }
              .speed-track-steps {
                position relative
                width 100%
                .speed-track-steps-item {
                  position absolute
                  width 0
                  &.step-item-0 .step-text {
                    text-align left
                    transform translate(-6px,-50%)
                  }
                  &.step-item-100 .step-text {
                    transform translate(-94px,-50%)
                    text-align right
                  }
                  .step-dot {
                    background #505050
                    height 4px
                    width 2px
                    border-radius 1px
                    transform: translate(-50%,-50%);
                  }
                  .step-text {
                    cursor default
                    color hsla(0,0%,100%,.8)
                    position absolute
                    bottom 6px
                    left 50%
                    width 100px
                    text-align: center
                    font-size 12px
                    transform translate(-50%,-50%)
                    line-height 12px
                  }
                }
              }
              .speed-track-thumb {
                cursor pointer
                position absolute
                transform translateX(-50%)
              }
            }
          }
        }

        .btn-subtitles.video-state-subtitles {
          .icon-subtitles-off {
            display none
          }
          .icon-subtitles-on {
            display inline-flex
          }
        }

        .btn-subtitles.video-state-nosubtitles {
          .icon-subtitles-off {
            display inline-flex
          }
          .icon-subtitles-on {
            display none
          }
        }

        .btn-loop.video-state-loop {
          .icon-loop-off {
            display none
          }
          .icon-loop-on {
            display inline-flex
          }
          .btn-title.btn-title-noloop {
            bottom 31px
            opacity 0
            visibility hidden
          }
        }

        .btn-loop.video-state-noloop {
          .icon-loop-off {
            display inline-flex
          }
          .icon-loop-on {
            display none
          }
          .btn-title.btn-title-loop {
            bottom 31px
            opacity 0
            visibility hidden
          }
        }

        .btn-fullscreen.video-state-fullscreen {
          .icon-fullscreen-off {
            display none
          }
          .icon-fullscreen-on {
            display inline-flex
          }
        }

        .btn-fullscreen.video-state-nofullscreen {
          .icon-fullscreen-off {
            display inline-flex
          }
          .icon-fullscreen-on {
            display none
          }
        }

        .video-time-wrap {
          width 84px
          line-height 22px
          height 22px
          font-size 12px
          position relative
          text-align center
          white-space nowrap
          color hsla(0, 0%, 100%, .9)

          .video-time-divider {
            margin 0 2px
          }
        }
      }

      .ushio-player-btn {
        cursor pointer
        text-align center
        width 36px
        color hsla(0, 0%, 100%, .8)
        fill hsla(0, 0%, 100%, .9)
        font-size 0
      }

    }
  }

  .ushio-context-menu.active {
    visibility visible
  }

  .ushio-context-menu {
    transition none
    visibility hidden
    padding 0
    z-index 99999
    color hsla(0, 0%, 100%, .8)
    fill hsla(0, 0%, 100%, .9)

    li {
      padding 4px 20px
    }

    li + li {
      border-top 1px solid hsla(0,0%,100%,.12)
    }
  }

  .ushio-context-menu.root {
    .ushio-context-menu-root {
      display block
    }
    .ushio-context-menu-lang {
      display none
    }
  }

  .ushio-context-menu.lang {
    .ushio-context-menu-root {
      display none
    }
    .ushio-context-menu-lang {
      display block
    }
  }

  .ushio-statistic-info.active {
    display block
  }

  .ushio-statistic-info {
    display none
    left 10px
    top 10px
    z-index 80
    padding 12px 30px 12px 20px

    .dismiss {
      cursor pointer
      position absolute
      right 10px
      top 10px
    }

    tr {
      td {
        padding 0 5px
      }
      td:first-child {
        text-align right
      }
    }
  }

  .ushio-res {
    position absolute
    display none
  }
}
